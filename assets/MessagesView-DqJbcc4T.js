import{An as e,En as t,Fn as n,On as r,Rn as i,V as a,W as o,Yn as s,ar as c,cn as l,cr as u,dn as d,fn as f,ln as p,on as m,pn as h,rn as g,rr as _,sn as v,tn as y,un as b}from"./game-logic-BBFCPVtv.js";import"./vendor-pinia-uBwenZRB.js";import"./vendor-crypto-CQM8pryk.js";import"./game-i18n-BC9uiVvf.js";import"./vendor-others-Bce0hM6h.js";import"./vendor-reka-ui-DR3m_AkV.js";import"./vendor-utils-BlvnUqQX.js";import"./vendor-vueuse-Djj-oRw9.js";import{B as x,L as S,Z as C,b as ee,et as te,i as ne,l as w,n as T,s as re,w as E}from"./vendor-icons-Ccm2_GPI.js";import"./TooltipProvider-Cspoy8HK.js";import{t as D}from"./CardDescription-DW7G2kN2.js";import{m as O}from"./game-config-DRP-gbpS.js";import{$ as ie,C as k,E as A,J as j,K as M,L as N,O as P,S as F,X as I,Z as ae,a as L,d as R,f as z,m as B,o as V,p as H,w as U}from"./index-BFy_PY62.js";import{t as W}from"./useGameConfig-D9mLuggV.js";import{i as oe,n as se,r as G,t as ce}from"./TabsTrigger-CSmJKCZO.js";import{t as le}from"./BattleReportDialog-Ct6Sfbor.js";var K={key:0,class:`space-y-4`},q={class:`p-3 bg-muted rounded-lg`},J={class:`text-sm font-medium mb-2`},Y={class:`text-xs text-muted-foreground`},X={class:`text-sm font-medium mb-2`},ue={class:`flex flex-wrap gap-3 text-xs sm:text-sm`},de={class:`flex items-center gap-1`},fe={class:`flex items-center gap-1`},pe={class:`flex items-center gap-1`},me={class:`flex items-center gap-1`},he={key:0},ge={class:`text-sm font-medium mb-2`},_e={class:`grid grid-cols-2 sm:grid-cols-3 gap-2 text-xs sm:text-sm`},ve={class:`text-muted-foreground`},Z={class:`ml-1 font-medium`},Q={key:1},$={class:`text-sm font-medium mb-2`},ye={class:`grid grid-cols-2 sm:grid-cols-3 gap-2 text-xs sm:text-sm`},be={key:0,class:`block`},xe={class:`text-muted-foreground`},Se={class:`ml-1 font-medium`},Ce={key:2},we={class:`text-sm font-medium mb-2`},Te={class:`grid grid-cols-2 sm:grid-cols-3 gap-2 text-xs sm:text-sm`},Ee={class:`text-muted-foreground`},De={class:`ml-1 font-medium`},Oe=h({__name:`SpyReportDialog`,props:{report:{},open:{type:Boolean}},emits:[`update:open`],setup(e,{emit:a}){let o=e,c=a,{t:m}=I(),{SHIPS:h,DEFENSES:y,BUILDINGS:S}=W(),C=s(o.open);n(()=>o.open,e=>{C.value=e}),n(C,e=>{c(`update:open`,e)});let ee=e=>e?Object.values(e).some(e=>e>0):!1;return(n,a)=>(t(),l(_(P),{open:C.value,"onUpdate:open":a[0]||=e=>C.value=e},{default:i(()=>[f(_(k),{"container-class":`sm:max-w-2xl max-h-[90vh]`},{header:i(()=>[f(_(U),null,{default:i(()=>[f(_(F),{class:`flex items-center gap-2`},{default:i(()=>[f(_(x),{class:`h-5 w-5`}),d(` `+u(_(m)(`messagesView.spyReport`)),1)]),_:1}),e.report?(t(),l(_(A),{key:0},{default:i(()=>[d(u(_(L)(e.report.timestamp)),1)]),_:1})):p(``,!0)]),_:1})]),default:i(()=>[e.report?(t(),b(`div`,K,[v(`div`,q,[v(`p`,J,u(_(m)(`messagesView.targetPlanet`)),1),v(`p`,Y,u(e.report.targetPlanetName)+` [`+u(e.report.targetPosition.galaxy)+`:`+u(e.report.targetPosition.system)+`:`+u(e.report.targetPosition.position)+`] `,1)]),v(`div`,null,[v(`p`,X,u(_(m)(`messagesView.resources`))+`:`,1),v(`div`,ue,[v(`span`,de,[f(N,{type:`metal`,size:`sm`}),d(` `+u(_(V)(e.report.resources.metal)),1)]),v(`span`,fe,[f(N,{type:`crystal`,size:`sm`}),d(` `+u(_(V)(e.report.resources.crystal)),1)]),v(`span`,pe,[f(N,{type:`deuterium`,size:`sm`}),d(` `+u(_(V)(e.report.resources.deuterium)),1)]),v(`span`,me,[f(N,{type:`darkMatter`,size:`sm`}),d(` `+u(_(V)(e.report.resources.darkMatter)),1)])])]),e.report.fleet&&Object.keys(e.report.fleet).length>0?(t(),b(`div`,he,[v(`p`,ge,u(_(m)(`messagesView.fleet`))+`:`,1),v(`div`,_e,[(t(!0),b(g,null,r(e.report.fleet,(e,n)=>(t(),b(`div`,{key:n},[v(`span`,ve,u(_(h)[n].name)+`:`,1),v(`span`,Z,u(e),1)]))),128))])])):p(``,!0),e.report.defense&&ee(e.report.defense)?(t(),b(`div`,Q,[v(`p`,$,u(_(m)(`messagesView.defense`))+`:`,1),v(`div`,ye,[(t(!0),b(g,null,r(e.report.defense,(e,n)=>(t(),b(`div`,{key:n},[e&&e>0?(t(),b(`span`,be,[v(`span`,xe,u(_(y)[n].name)+`:`,1),v(`span`,Se,u(e),1)])):p(``,!0)]))),128))])])):p(``,!0),e.report.buildings&&Object.keys(e.report.buildings).length>0?(t(),b(`div`,Ce,[v(`p`,we,u(_(m)(`messagesView.buildings`))+`:`,1),v(`div`,Te,[(t(!0),b(g,null,r(e.report.buildings,(e,n)=>(t(),b(`div`,{key:n},[v(`span`,Ee,u(_(S)[n].name)+`:`,1),v(`span`,De,`Lv.`+u(e),1)]))),128))])])):p(``,!0)])):p(``,!0)]),_:1})]),_:1},8,[`open`]))}}),ke={class:`container mx-auto p-4 sm:p-6 space-y-6`},Ae={class:`text-2xl sm:text-3xl font-bold`},je={class:`text-xs sm:text-sm truncate`},Me={class:`flex justify-between items-center gap-2`},Ne={class:`flex items-center gap-2 min-w-0 flex-1`},Pe={class:`flex justify-between items-center gap-2`},Fe={class:`flex items-center gap-2 min-w-0 flex-1`},Ie={class:`flex justify-between items-center gap-2`},Le={class:`flex items-center gap-2 min-w-0 flex-1`},Re={class:`flex justify-between items-center gap-2`},ze={class:`flex items-center gap-2 min-w-0 flex-1`},Be={class:`flex justify-between items-center gap-2`},Ve={class:`flex items-center gap-2 min-w-0 flex-1`},He={class:`space-y-3`},Ue={class:`text-sm`},We={class:`font-semibold mb-1`},Ge={class:`grid grid-cols-3 gap-2`},Ke={key:0},qe={key:1},Je={key:2},Ye={class:`text-xs text-muted-foreground`},Xe={class:`text-green-600`},Ze={class:`flex gap-2`},Qe={class:`flex justify-between items-center gap-2`},$e={class:`flex items-center gap-2 min-w-0 flex-1`},et={class:`space-y-2`},tt={class:`text-sm`},nt={class:`font-semibold mb-1`},rt={class:`grid grid-cols-3 gap-2`},it={key:0},at={key:1},ot={key:2},st={class:`text-xs text-muted-foreground`},ct={class:`text-xs text-muted-foreground`},lt={class:`flex justify-between items-center gap-2`},ut={class:`flex items-center gap-2 min-w-0 flex-1`},dt=h({__name:`MessagesView`,setup(n){let h=ie(),k=ae(),{t:A}=I(),N=s(`battles`),P=s(!1),F=s(!1),V=s(null),U=s(null),W=m(()=>[...h.player.battleReports].sort((e,t)=>t.timestamp-e.timestamp)),K=m(()=>[...h.player.spyReports].sort((e,t)=>t.timestamp-e.timestamp)),q=m(()=>h.player.spiedNotifications?[...h.player.spiedNotifications].sort((e,t)=>t.timestamp-e.timestamp):[]),J=m(()=>h.player.missionReports?[...h.player.missionReports].sort((e,t)=>t.timestamp-e.timestamp):[]),Y=m(()=>h.player.npcActivityNotifications?[...h.player.npcActivityNotifications].sort((e,t)=>t.timestamp-e.timestamp):[]),X=m(()=>h.player.battleReports.filter(e=>!e.read).length),ue=m(()=>h.player.spyReports.filter(e=>!e.read).length),de=m(()=>h.player.spiedNotifications?h.player.spiedNotifications.filter(e=>!e.read).length:0),fe=m(()=>h.player.npcActivityNotifications?h.player.npcActivityNotifications.filter(e=>!e.read).length:0),pe=m(()=>h.player.missionReports?h.player.missionReports.filter(e=>!e.read).length:0),me=m(()=>h.player.giftNotifications?h.player.giftNotifications.filter(e=>!e.read).length:0),he=m(()=>h.player.giftRejectedNotifications?h.player.giftRejectedNotifications.filter(e=>!e.read).length:0),ge=m(()=>ue.value+de.value),_e=m(()=>fe.value+me.value+he.value),ve=m(()=>[{value:`battles`,icon:w,label:A(`messagesView.battles`),unreadCount:X.value},{value:`spy`,icon:x,label:A(`messagesView.spy`),unreadCount:ge.value},{value:`missions`,icon:E,label:A(`messagesView.missions`),unreadCount:pe.value},{value:`npc`,icon:ne,label:A(`messagesView.npc`),unreadCount:_e.value}]),Z=m(()=>h.player.giftNotifications?[...h.player.giftNotifications].sort((e,t)=>t.timestamp-e.timestamp):[]),Q=m(()=>h.player.giftRejectedNotifications?[...h.player.giftRejectedNotifications].sort((e,t)=>t.timestamp-e.timestamp):[]),$=e=>e.winner===`draw`?`secondary`:(e.attackerId===h.player.id?e.winner===`attacker`:e.winner===`defender`)?`default`:`destructive`,ye=e=>e.winner===`draw`?A(`messagesView.draw`):(e.attackerId===h.player.id?e.winner===`attacker`:e.winner===`defender`)?A(`messagesView.victory`):A(`messagesView.defeat`),be=e=>{V.value=e,P.value=!0,e.read||=!0},xe=e=>{U.value=e,F.value=!0,e.read||=!0},Se=e=>{e.read||=!0},Ce=e=>{let t=h.player.battleReports.findIndex(t=>t.id===e);t>-1&&h.player.battleReports.splice(t,1)},we=e=>{let t=h.player.spyReports.findIndex(t=>t.id===e);t>-1&&h.player.spyReports.splice(t,1)},Te=e=>{if(!h.player.spiedNotifications)return;let t=h.player.spiedNotifications.findIndex(t=>t.id===e);t>-1&&h.player.spiedNotifications.splice(t,1)},Ee=e=>{e.read||=!0},De=e=>{if(!h.player.npcActivityNotifications)return;let t=h.player.npcActivityNotifications.findIndex(t=>t.id===e);t>-1&&h.player.npcActivityNotifications.splice(t,1)},dt=e=>({[O.Transport]:A(`fleetView.transport`),[O.Colonize]:A(`fleetView.colonize`),[O.Deploy]:A(`fleetView.deploy`),[O.Recycle]:A(`fleetView.recycle`),[O.Destroy]:A(`fleetView.destroy`),[O.MissileAttack]:A(`galaxyView.missileAttack`)})[e]||e,ft=e=>{e.read||=!0},pt=e=>{if(!h.player.missionReports)return;let t=h.player.missionReports.findIndex(t=>t.id===e);t>-1&&h.player.missionReports.splice(t,1)},mt=e=>{e.read||=!0},ht=e=>{let t=k.npcs.find(t=>t.id===e.fromNpcId);t&&a(h.player,t,e,h.locale)},gt=e=>{let t=k.npcs.find(t=>t.id===e.fromNpcId);t&&o(h.player,t,e,h.locale)},_t=e=>{if(!h.player.giftNotifications)return;let t=h.player.giftNotifications.findIndex(t=>t.id===e);t>-1&&h.player.giftNotifications.splice(t,1)},vt=e=>{e.read||=!0},yt=e=>{if(!h.player.giftRejectedNotifications)return;let t=h.player.giftRejectedNotifications.findIndex(t=>t.id===e);t>-1&&h.player.giftRejectedNotifications.splice(t,1)};return(n,a)=>(t(),b(`div`,ke,[v(`h1`,Ae,u(_(A)(`messagesView.title`)),1),f(_(oe),{modelValue:N.value,"onUpdate:modelValue":a[0]||=e=>N.value=e,class:`w-full`},{default:i(()=>[f(_(se),{class:`grid w-full grid-cols-2 sm:grid-cols-4`,"tab-count":4},{default:i(()=>[(t(!0),b(g,null,r(ve.value,n=>(t(),l(_(ce),{key:n.value,value:n.value,class:`flex items-center justify-center gap-1 px-2`},{default:i(()=>[(t(),l(e(n.icon),{class:`h-3 w-3 sm:h-4 sm:w-4`})),v(`span`,je,u(n.label),1),n.unreadCount>0?(t(),l(_(M),{key:0,variant:`destructive`,class:`hidden sm:flex ml-1`},{default:i(()=>[d(u(n.unreadCount),1)]),_:2},1024)):p(``,!0)]),_:2},1032,[`value`]))),128))]),_:1}),f(_(G),{value:`battles`,class:`mt-4 space-y-2`},{default:i(()=>[_(h).player.battleReports.length===0?(t(),l(_(B),{key:0},{default:i(()=>[f(_(H),{class:`py-8 text-center text-muted-foreground`},{default:i(()=>[d(u(_(A)(`messagesView.noBattleReports`)),1)]),_:1})]),_:1})):p(``,!0),(t(!0),b(g,null,r(W.value,e=>(t(),l(_(B),{key:e.id,onClick:t=>be(e),class:`cursor-pointer hover:shadow-md transition-shadow`},{default:i(()=>[f(_(z),{class:`pb-3`},{default:i(()=>[v(`div`,Me,[v(`div`,Ne,[f(_(w),{class:`h-4 w-4 flex-shrink-0`}),f(_(R),{class:`text-base sm:text-lg`},{default:i(()=>[d(u(_(A)(`messagesView.battleReport`)),1)]),_:1}),e.read?p(``,!0):(t(),l(_(M),{key:0,variant:`default`,class:`text-xs`},{default:i(()=>[d(u(_(A)(`messagesView.unread`)),1)]),_:1})),f(_(M),{variant:$(e),class:`text-xs`},{default:i(()=>[d(u(ye(e)),1)]),_:2},1032,[`variant`])]),f(_(j),{onClick:y(t=>Ce(e.id),[`stop`]),variant:`ghost`,size:`icon`,class:`h-8 w-8 flex-shrink-0`},{default:i(()=>[f(_(T),{class:`h-4 w-4`})]),_:1},8,[`onClick`])]),f(_(D),{class:`text-xs sm:text-sm`},{default:i(()=>[d(u(_(L)(e.timestamp)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,[`onClick`]))),128))]),_:1}),f(_(G),{value:`spy`,class:`mt-4 space-y-2`},{default:i(()=>[_(h).player.spyReports.length===0&&q.value.length===0?(t(),l(_(B),{key:0},{default:i(()=>[f(_(H),{class:`py-8 text-center text-muted-foreground`},{default:i(()=>[d(u(_(A)(`messagesView.noSpyReports`)),1)]),_:1})]),_:1})):p(``,!0),(t(!0),b(g,null,r(K.value,e=>(t(),l(_(B),{key:e.id,onClick:t=>xe(e),class:`cursor-pointer hover:shadow-md transition-shadow`},{default:i(()=>[f(_(z),{class:`pb-3`},{default:i(()=>[v(`div`,Pe,[v(`div`,Fe,[f(_(x),{class:`h-4 w-4 flex-shrink-0`}),f(_(R),{class:`text-base sm:text-lg`},{default:i(()=>[d(u(_(A)(`messagesView.spyReport`)),1)]),_:1}),e.read?p(``,!0):(t(),l(_(M),{key:0,variant:`default`,class:`text-xs`},{default:i(()=>[d(u(_(A)(`messagesView.unread`)),1)]),_:1})),f(_(M),{variant:`outline`,class:`text-xs`},{default:i(()=>[d(u(e.targetPlanetId),1)]),_:2},1024)]),f(_(j),{onClick:y(t=>we(e.id),[`stop`]),variant:`ghost`,size:`icon`,class:`h-8 w-8 flex-shrink-0`},{default:i(()=>[f(_(T),{class:`h-4 w-4`})]),_:1},8,[`onClick`])]),f(_(D),{class:`text-xs sm:text-sm`},{default:i(()=>[d(u(_(L)(e.timestamp)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,[`onClick`]))),128)),(t(!0),b(g,null,r(q.value,e=>(t(),l(_(B),{key:e.id,onClick:t=>Se(e),class:`cursor-pointer hover:shadow-md transition-shadow`},{default:i(()=>[f(_(z),{class:`pb-3`},{default:i(()=>[v(`div`,Ie,[v(`div`,Le,[f(_(re),{class:`h-4 w-4 flex-shrink-0 text-destructive`}),f(_(R),{class:`text-base sm:text-lg`},{default:i(()=>[d(u(_(A)(`messagesView.spiedNotification`)),1)]),_:1}),e.read?p(``,!0):(t(),l(_(M),{key:0,variant:`default`,class:`text-xs`},{default:i(()=>[d(u(_(A)(`messagesView.unread`)),1)]),_:1})),f(_(M),{variant:e.detectionSuccess?`destructive`:`secondary`,class:`text-xs`},{default:i(()=>[d(u(e.detectionSuccess?_(A)(`messagesView.detected`):_(A)(`messagesView.undetected`)),1)]),_:2},1032,[`variant`])]),f(_(j),{onClick:y(t=>Te(e.id),[`stop`]),variant:`ghost`,size:`icon`,class:`h-8 w-8 flex-shrink-0`},{default:i(()=>[f(_(T),{class:`h-4 w-4`})]),_:1},8,[`onClick`])]),f(_(D),{class:`text-xs sm:text-sm`},{default:i(()=>[d(u(e.npcName)+` → `+u(e.targetPlanetName)+` · `+u(_(L)(e.timestamp)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,[`onClick`]))),128))]),_:1}),f(_(G),{value:`npc`,class:`mt-4 space-y-2`},{default:i(()=>[Y.value.length===0&&Z.value.length===0&&Q.value.length===0?(t(),l(_(B),{key:0},{default:i(()=>[f(_(H),{class:`py-8 text-center text-muted-foreground`},{default:i(()=>[d(u(_(A)(`messagesView.noNPCActivity`)),1)]),_:1})]),_:1})):p(``,!0),(t(!0),b(g,null,r(Y.value,e=>(t(),l(_(B),{key:e.id,onClick:t=>Ee(e),class:`cursor-pointer hover:shadow-md transition-shadow`},{default:i(()=>[f(_(z),{class:`pb-3`},{default:i(()=>[v(`div`,Re,[v(`div`,ze,[f(_(ee),{class:`h-4 w-4 flex-shrink-0 text-blue-500`}),f(_(R),{class:`text-base sm:text-lg`},{default:i(()=>[d(u(_(A)(`messagesView.npcRecycleActivity`)),1)]),_:1}),e.read?p(``,!0):(t(),l(_(M),{key:0,variant:`default`,class:`text-xs`},{default:i(()=>[d(u(_(A)(`messagesView.unread`)),1)]),_:1}))]),f(_(j),{onClick:y(t=>De(e.id),[`stop`]),variant:`ghost`,size:`icon`,class:`h-8 w-8 flex-shrink-0`},{default:i(()=>[f(_(T),{class:`h-4 w-4`})]),_:1},8,[`onClick`])]),f(_(D),{class:`text-xs sm:text-sm`},{default:i(()=>[d(u(e.npcName)+` → `+u(e.targetPlanetName||`[${e.targetPosition.galaxy}:${e.targetPosition.system}:${e.targetPosition.position}]`)+` · `+u(_(L)(e.timestamp)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,[`onClick`]))),128)),(t(!0),b(g,null,r(Z.value,e=>(t(),l(_(B),{key:e.id,onClick:t=>mt(e),class:`hover:shadow-md transition-shadow`},{default:i(()=>[f(_(z),{class:`pb-3`},{default:i(()=>[v(`div`,Be,[v(`div`,Ve,[f(_(S),{class:`h-4 w-4 flex-shrink-0 text-green-600`}),f(_(R),{class:`text-base sm:text-lg`},{default:i(()=>[d(u(_(A)(`messagesView.giftFrom`).replace(`{npcName}`,e.fromNpcName)),1)]),_:2},1024),e.read?p(``,!0):(t(),l(_(M),{key:0,variant:`default`,class:`text-xs`},{default:i(()=>[d(u(_(A)(`messagesView.unread`)),1)]),_:1}))]),f(_(j),{onClick:y(t=>_t(e.id),[`stop`]),variant:`ghost`,size:`icon`,class:`h-8 w-8 flex-shrink-0`},{default:i(()=>[f(_(T),{class:`h-4 w-4`})]),_:1},8,[`onClick`])]),f(_(D),{class:`text-xs sm:text-sm`},{default:i(()=>[d(u(_(L)(e.timestamp)),1)]),_:2},1024)]),_:2},1024),f(_(H),null,{default:i(()=>[v(`div`,He,[v(`div`,Ue,[v(`div`,We,u(_(A)(`messagesView.giftResources`))+`:`,1),v(`div`,Ge,[e.resources.metal>0?(t(),b(`div`,Ke,u(_(A)(`resources.metal`))+`: `+u(e.resources.metal.toLocaleString()),1)):p(``,!0),e.resources.crystal>0?(t(),b(`div`,qe,u(_(A)(`resources.crystal`))+`: `+u(e.resources.crystal.toLocaleString()),1)):p(``,!0),e.resources.deuterium>0?(t(),b(`div`,Je,u(_(A)(`resources.deuterium`))+`: `+u(e.resources.deuterium.toLocaleString()),1)):p(``,!0)])]),v(`div`,Ye,[d(u(_(A)(`messagesView.expectedReputation`))+`: `,1),v(`span`,Xe,`+`+u(e.expectedReputationGain),1)]),v(`div`,Ze,[f(_(j),{onClick:y(t=>ht(e),[`stop`]),variant:`default`,size:`sm`,class:`flex-1`},{default:i(()=>[f(_(C),{class:`h-4 w-4 mr-1`}),d(` `+u(_(A)(`messagesView.acceptGift`)),1)]),_:1},8,[`onClick`]),f(_(j),{onClick:y(t=>gt(e),[`stop`]),variant:`outline`,size:`sm`,class:`flex-1`},{default:i(()=>[f(_(te),{class:`h-4 w-4 mr-1`}),d(` `+u(_(A)(`messagesView.rejectGift`)),1)]),_:1},8,[`onClick`])])])]),_:2},1024)]),_:2},1032,[`onClick`]))),128)),(t(!0),b(g,null,r(Q.value,e=>(t(),l(_(B),{key:e.id,onClick:t=>vt(e),class:`hover:shadow-md transition-shadow`},{default:i(()=>[f(_(z),{class:`pb-3`},{default:i(()=>[v(`div`,Qe,[v(`div`,$e,[f(_(te),{class:`h-4 w-4 flex-shrink-0 text-red-600`}),f(_(R),{class:`text-base sm:text-lg`},{default:i(()=>[d(u(_(A)(`messagesView.giftRejectedBy`).replace(`{npcName}`,e.npcName)),1)]),_:2},1024),e.read?p(``,!0):(t(),l(_(M),{key:0,variant:`default`,class:`text-xs`},{default:i(()=>[d(u(_(A)(`messagesView.unread`)),1)]),_:1}))]),f(_(j),{onClick:y(t=>yt(e.id),[`stop`]),variant:`ghost`,size:`icon`,class:`h-8 w-8 flex-shrink-0`},{default:i(()=>[f(_(T),{class:`h-4 w-4`})]),_:1},8,[`onClick`])]),f(_(D),{class:`text-xs sm:text-sm`},{default:i(()=>[d(u(_(L)(e.timestamp)),1)]),_:2},1024)]),_:2},1024),f(_(H),null,{default:i(()=>[v(`div`,et,[v(`div`,tt,[v(`div`,nt,u(_(A)(`messagesView.rejectedResources`))+`:`,1),v(`div`,rt,[e.rejectedResources.metal>0?(t(),b(`div`,it,u(_(A)(`resources.metal`))+`: `+u(e.rejectedResources.metal.toLocaleString()),1)):p(``,!0),e.rejectedResources.crystal>0?(t(),b(`div`,at,u(_(A)(`resources.crystal`))+`: `+u(e.rejectedResources.crystal.toLocaleString()),1)):p(``,!0),e.rejectedResources.deuterium>0?(t(),b(`div`,ot,u(_(A)(`resources.deuterium`))+`: `+u(e.rejectedResources.deuterium.toLocaleString()),1)):p(``,!0)])]),v(`div`,st,[d(u(_(A)(`messagesView.currentReputation`))+`: `,1),v(`span`,{class:c(e.currentReputation>=0?`text-green-600`:`text-red-600`)},u(e.currentReputation),3)]),v(`div`,ct,u(_(A)(`messagesView.rejectionReason.`+e.reason)),1)])]),_:2},1024)]),_:2},1032,[`onClick`]))),128))]),_:1}),f(_(G),{value:`missions`,class:`mt-4 space-y-2`},{default:i(()=>[J.value.length===0?(t(),l(_(B),{key:0},{default:i(()=>[f(_(H),{class:`py-8 text-center text-muted-foreground`},{default:i(()=>[d(u(_(A)(`messagesView.noMissionReports`)),1)]),_:1})]),_:1})):p(``,!0),(t(!0),b(g,null,r(J.value,e=>(t(),l(_(B),{key:e.id,onClick:t=>ft(e),class:`cursor-pointer hover:shadow-md transition-shadow`},{default:i(()=>[f(_(z),{class:`pb-3`},{default:i(()=>[v(`div`,lt,[v(`div`,ut,[f(_(E),{class:`h-4 w-4 flex-shrink-0`}),f(_(R),{class:`text-base sm:text-lg`},{default:i(()=>[d(u(dt(e.missionType)),1)]),_:2},1024),e.read?p(``,!0):(t(),l(_(M),{key:0,variant:`default`,class:`text-xs`},{default:i(()=>[d(u(_(A)(`messagesView.unread`)),1)]),_:1})),f(_(M),{variant:e.success?`default`:`destructive`,class:`text-xs`},{default:i(()=>[d(u(e.success?_(A)(`messagesView.success`):_(A)(`messagesView.failed`)),1)]),_:2},1032,[`variant`])]),f(_(j),{onClick:y(t=>pt(e.id),[`stop`]),variant:`ghost`,size:`icon`,class:`h-8 w-8 flex-shrink-0`},{default:i(()=>[f(_(T),{class:`h-4 w-4`})]),_:1},8,[`onClick`])]),f(_(D),{class:`text-xs sm:text-sm`},{default:i(()=>[d(u(e.originPlanetName)+` → `+u(e.targetPlanetName||`[${e.targetPosition.galaxy}:${e.targetPosition.system}:${e.targetPosition.position}]`)+` · `+u(_(L)(e.timestamp)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,[`onClick`]))),128))]),_:1})]),_:1},8,[`modelValue`]),f(le,{open:P.value,"onUpdate:open":a[1]||=e=>P.value=e,report:V.value},null,8,[`open`,`report`]),f(Oe,{open:F.value,"onUpdate:open":a[2]||=e=>F.value=e,report:U.value},null,8,[`open`,`report`])]))}});export{dt as default};