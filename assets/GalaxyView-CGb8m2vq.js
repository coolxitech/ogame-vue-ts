const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./missileLogic-_46Nr-Ju.js","./game-logic-BBFCPVtv.js","./game-config-DRP-gbpS.js","./game-i18n-BC9uiVvf.js","./rolldown-runtime-CIDIeb-o.js"])))=>i.map(i=>d[i]);
import{En as e,On as t,Rn as n,Yn as r,ar as i,cn as a,cr as o,dn as s,dt as c,fn as l,kn as ee,ln as u,lt as te,on as d,pn as f,rn as p,rr as m,sn as h,un as g,wn as ne,xn as re}from"./game-logic-BBFCPVtv.js";import"./vendor-pinia-uBwenZRB.js";import{a as ie,o as ae}from"./vendor-vue-router-0mfLVB6Y.js";import"./vendor-crypto-CQM8pryk.js";import"./game-i18n-BC9uiVvf.js";import{l as _}from"./vendor-others-Bce0hM6h.js";import{$ as v,K as y,X as b,Y as x}from"./vendor-reka-ui-DR3m_AkV.js";import"./vendor-utils-BlvnUqQX.js";import"./vendor-vueuse-Djj-oRw9.js";import{$ as oe,B as se,I as ce,L as le,N as ue,b as S,l as de,n as C,v as fe}from"./vendor-icons-Ccm2_GPI.js";import{t as pe}from"./TooltipProvider-Cspoy8HK.js";import{t as me}from"./CardDescription-DW7G2kN2.js";import{g as w}from"./game-config-DRP-gbpS.js";import{$ as he,A as ge,B as T,D as E,E as _e,F as ve,H as D,I as ye,J as O,K as k,L as A,M as be,N as xe,O as Se,P as Ce,Q as we,R as j,S as Te,T as Ee,U as M,V as De,W as N,X as Oe,Y as P,Z as ke,d as Ae,f as je,j as Me,k as Ne,m as Pe,o as F,p as Fe,t as Ie,u as I,w as Le,z as L}from"./index-BFy_PY62.js";import{a as Re,i as ze,n as Be,r as Ve,t as He}from"./SelectValue-3A9qRnXv.js";var Ue=f({inheritAttrs:!1,__name:`DialogContent`,props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{},showCloseButton:{type:Boolean,default:!0}},emits:[`escapeKeyDown`,`pointerDownOutside`,`focusOutside`,`interactOutside`,`openAutoFocus`,`closeAutoFocus`],setup(t,{emit:r}){let i=t,o=r,s=v(_(i,`class`),o);return(r,o)=>(e(),a(m(y),null,{default:n(()=>[l(E),l(m(x),re({"data-slot":`dialog-content`},{...r.$attrs,...m(s)},{class:m(P)(`bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-2xl`,i.class)}),{default:n(()=>[ee(r.$slots,`default`),t.showCloseButton?(e(),a(m(b),{key:0,"data-slot":`dialog-close`,class:`ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4`},{default:n(()=>[l(m(C)),o[0]||=h(`span`,{class:`sr-only`},`Close`,-1)]),_:1})):u(``,!0)]),_:3},16,[`class`])]),_:3}))}}),We={class:`container mx-auto p-4 sm:p-6 space-y-4 sm:space-y-6`},Ge={class:`text-2xl sm:text-3xl font-bold`},Ke={class:`space-y-2`},qe={class:`space-y-2`},Je={class:`space-y-1`},Ye={class:`px-2 py-1.5 text-xs font-semibold text-muted-foreground`},Xe={class:`flex items-start gap-2 w-full min-w-0`},Ze={class:`flex-1 min-w-0`},Qe={class:`flex items-center gap-1.5 mb-0.5`},$e={class:`truncate font-medium text-sm`},et={class:`text-[11px] text-muted-foreground`},tt={class:`space-y-1`},nt={class:`px-2 py-1.5 text-xs font-semibold text-muted-foreground`},rt={class:`flex items-start gap-2 w-full min-w-0`},it={class:`flex-1 min-w-0`},at={class:`truncate font-medium text-sm mb-0.5`},ot={class:`text-[11px] text-muted-foreground`},st={class:`space-y-2`},ct={class:`sm:hidden w-full space-y-2`},lt={class:`flex items-start gap-2 w-full`},ut={class:`w-8 text-center flex-shrink-0`},dt={class:`flex-1 min-w-0`},ft={key:0,class:`space-y-1`},pt={class:`flex items-center gap-1.5 min-w-0 flex-wrap`},mt={class:`font-semibold text-sm truncate`},ht={class:`text-xs text-muted-foreground whitespace-nowrap flex-shrink-0`},gt={class:`space-y-2`},_t={class:`text-xs font-semibold text-amber-700 dark:text-amber-400`},vt={class:`space-y-1 text-xs`},yt={class:`flex items-center gap-2`},bt={class:`text-muted-foreground`},xt={class:`font-medium`},St={class:`flex items-center gap-2`},Ct={class:`text-muted-foreground`},wt={class:`font-medium`},Tt={key:0,class:`text-xs`},Et={class:`text-muted-foreground`},Dt={key:1,class:`space-y-1`},Ot={class:`text-sm text-muted-foreground`},kt={class:`space-y-2`},At={class:`text-xs font-semibold text-amber-700 dark:text-amber-400`},jt={class:`space-y-1 text-xs`},Mt={class:`flex items-center gap-2`},Nt={class:`text-muted-foreground`},Pt={class:`font-medium`},Ft={class:`flex items-center gap-2`},It={class:`text-muted-foreground`},Lt={class:`font-medium`},Rt={class:`flex gap-1 pl-10`},zt={class:`hidden sm:flex items-center gap-4 flex-1 min-w-0`},Bt={class:`w-12 text-center flex-shrink-0`},Vt={class:`flex-1 min-w-0`},Ht={key:0,class:`space-y-1`},Ut={class:`flex items-center gap-2 flex-wrap`},Wt={class:`font-semibold text-base`},Gt={class:`space-y-2`},Kt={class:`text-xs font-semibold text-amber-700 dark:text-amber-400`},qt={class:`space-y-1 text-xs`},Jt={class:`flex items-center gap-2`},Yt={class:`text-muted-foreground`},Xt={class:`font-medium`},Zt={class:`flex items-center gap-2`},Qt={class:`text-muted-foreground`},$t={class:`font-medium`},en={class:`text-xs text-muted-foreground`},tn={key:0,class:`text-xs`},nn={class:`text-muted-foreground`},rn={key:1,class:`space-y-1`},an={class:`text-sm text-muted-foreground`},on={class:`space-y-2`},sn={class:`text-xs font-semibold text-amber-700 dark:text-amber-400`},cn={class:`space-y-1 text-xs`},ln={class:`flex items-center gap-2`},un={class:`text-muted-foreground`},dn={class:`font-medium`},fn={class:`flex items-center gap-2`},pn={class:`text-muted-foreground`},mn={class:`font-medium`},hn={class:`hidden sm:flex gap-1 sm:gap-2 flex-shrink-0`},gn={key:0,class:`space-y-4`},_n={class:`space-y-2`},vn={class:`text-sm text-muted-foreground`},yn={class:`space-y-2 text-sm`},bn={class:`flex justify-between`},xn={class:`text-muted-foreground`},Sn={class:`flex justify-between`},Cn={class:`text-muted-foreground`},wn={class:`flex justify-between`},Tn={class:`text-muted-foreground`},R=f({__name:`GalaxyView`,setup(ee){let f=he(),re=we(),_=ke(),v=ae(),y=ie(),{t:b}=Oe(),x=r(!1),C=r(``),E=r(``),P=r(null),R=r(!1),z=r(null),B=r(1),V=r(1),H=r(1),U=r(1),W=r(1),G=r(void 0),K=d(()=>G.value&&_.npcs.find(e=>e.id===G.value)||null),En=r([]),Dn=d(()=>f.player.planets.find(e=>!e.isMoon)),On=d(()=>f.player.planets.filter(e=>!e.isMoon)),kn=d(()=>f.currentPlanet?(f.currentPlanet.defense.interplanetaryMissile||0)>0:!1),An=d(()=>Dn.value?U.value===Dn.value.position.galaxy&&W.value===Dn.value.position.system:!1);ne(()=>{y.query.highlightNpc&&(G.value=y.query.highlightNpc);let e=y.query.galaxy?Number(y.query.galaxy):null,t=y.query.system?Number(y.query.system):null;e&&t?(U.value=e,W.value=t,V.value=e,H.value=t,J(),Mn()):f.currentPlanet&&(U.value=f.currentPlanet.position.galaxy,W.value=f.currentPlanet.position.system,V.value=U.value,H.value=W.value,J())});let jn=(e,t)=>c(e,t).map(n=>{let r=te(e,t,n.position),i=f.player.planets.find(r=>r.position.galaxy===e&&r.position.system===t&&r.position.position===n.position)||re.planets[r]||null;return{position:n.position,planet:i}}),q=(e,t,n)=>{let r=`debris_${e}_${t}_${n}`;return re.debrisFields[r]||null},Mn=()=>{(y.query.highlightNpc||y.query.galaxy||y.query.system)&&v.replace({query:{}})},J=()=>{U.value=V.value,W.value=H.value,En.value=jn(U.value,W.value)},Nn=e=>{U.value=e.position.galaxy,W.value=e.position.system,V.value=U.value,H.value=W.value,En.value=jn(U.value,W.value)},Y=e=>e?e.ownerId===f.player.id:!1,X=e=>{if(!e||!G.value)return!1;let t=_.npcs.find(e=>e.id===G.value);return t?t.planets.some(t=>t.id===e.id):!1},Pn=e=>!e||Y(e)?null:_.npcs.find(t=>t.planets.some(t=>t.position.galaxy===e.position.galaxy&&t.position.system===e.position.system&&t.position.position===e.position.position)),Z=e=>{let t=Pn(e);return t?f.player.diplomaticRelations?.[t.id]:null},Fn=e=>{let t=Z(e);if(!t)return`secondary`;switch(t.status){case w.Friendly:return`default`;case w.Hostile:return`destructive`;default:return`secondary`}},In=e=>{let t=Z(e);if(!t)return b(`diplomacy.status.neutral`);switch(t.status){case w.Friendly:return b(`diplomacy.status.friendly`);case w.Hostile:return b(`diplomacy.status.hostile`);default:return b(`diplomacy.status.neutral`)}},Q=e=>Z(e)?.reputation??null,Ln=e=>e===null?`text-muted-foreground`:e>=20?`text-green-600 dark:text-green-400`:e<=-20?`text-red-600 dark:text-red-400`:`text-muted-foreground`,Rn=e=>{f.currentPlanetId=e,v.push(`/`)},zn=()=>{P.value&&P.value(),x.value=!1},$=(e,t,n)=>{let r=e?e.position:{galaxy:U.value,system:W.value,position:n},i=`${r.galaxy}:${r.system}:${r.position}`,a=``,o=``;t===`spy`?(o=b(`galaxyView.scoutPlanetTitle`),a=b(`galaxyView.scoutPlanetMessage`).replace(`{coordinates}`,i)):t===`attack`?(o=b(`galaxyView.attackPlanetTitle`),a=b(`galaxyView.attackPlanetMessage`).replace(`{coordinates}`,i)):t===`colonize`?(o=b(`galaxyView.colonizePlanetTitle`),a=b(`galaxyView.colonizePlanetMessage`).replace(`{coordinates}`,i)):t===`recycle`?(o=b(`galaxyView.recyclePlanetTitle`),a=b(`galaxyView.recyclePlanetMessage`).replace(`{coordinates}`,i)):t===`gift`&&(o=b(`galaxyView.giftPlanetTitle`),a=b(`galaxyView.giftPlanetMessage`).replace(`{coordinates}`,i)),C.value=o,E.value=a,P.value=()=>{v.push({path:`/fleet`,query:{galaxy:r.galaxy,system:r.system,position:r.position,mission:t===`gift`?void 0:t,gift:t===`gift`?`1`:void 0}})},x.value=!0},Bn=e=>{z.value=e,B.value=1,R.value=!0},Vn=()=>{!z.value||!f.currentPlanet||Ie(()=>import(`./missileLogic-_46Nr-Ju.js`),__vite__mapDeps([0,1,2,3,4]),import.meta.url).then(e=>{let t=e.validateMissileLaunch(f.currentPlanet,z.value.position,B.value,f.player.technologies);if(!t.valid){C.value=b(`errors.launchFailed`),E.value=b(t.reason||`errors.unknown`),x.value=!0;return}let n=e.createMissileAttack(f.player.id,f.currentPlanet,z.value.position,z.value.id,B.value);e.executeMissileLaunch(f.currentPlanet,B.value),f.player.missileAttacks.push(n),R.value=!1,C.value=b(`common.success`),E.value=b(`galaxyView.missileLaunched`),x.value=!0})},Hn=()=>{let e=f.player.technologies.impulseDrive||0;return e===0?0:5*e-1},Un=e=>{if(!f.currentPlanet)return 0;let t=f.currentPlanet.position,n=e.position;return t.galaxy===n.galaxy?Math.abs(t.system-n.system):1/0},Wn=e=>{let t=30+e*60;return`${Math.floor(t/60)}:${(t%60).toString().padStart(2,`0`)}`};return(r,c)=>(e(),g(`div`,We,[h(`h1`,Ge,o(m(b)(`galaxyView.title`)),1),l(m(Pe),null,{default:n(()=>[l(m(je),null,{default:n(()=>[l(m(Ae),null,{default:n(()=>[s(o(m(b)(`galaxyView.selectCoordinates`)),1)]),_:1})]),_:1}),l(m(Fe),null,{default:n(()=>[h(`div`,{class:i([`grid gap-3 sm:gap-4`,K.value?`grid-cols-2 sm:grid-cols-4`:An.value?`grid-cols-2`:`grid-cols-2 sm:grid-cols-3`])},[h(`div`,Ke,[l(m(I),{for:`select-galaxy`,class:`text-xs sm:text-sm`},{default:n(()=>[s(o(m(b)(`galaxyView.galaxy`)),1)]),_:1}),(e(),a(m(Re),{key:m(f).locale,"model-value":String(V.value),modal:!1,"onUpdate:modelValue":c[0]||=e=>{V.value=Number(e),J()}},{default:n(()=>[l(m(Be),{id:`select-galaxy`,class:`w-full`},{default:n(()=>[l(m(He),{placeholder:m(b)(`galaxyView.selectGalaxy`)},null,8,[`placeholder`])]),_:1}),l(m(ze),{position:`popper`},{default:n(()=>[(e(),g(p,null,t(9,e=>l(m(Ve),{key:e,value:String(e)},{default:n(()=>[s(o(m(b)(`galaxyView.galaxy`))+` `+o(e),1)]),_:2},1032,[`value`])),64))]),_:1})]),_:1},8,[`model-value`]))]),h(`div`,qe,[l(m(I),{for:`select-system`,class:`text-xs sm:text-sm`},{default:n(()=>[s(o(m(b)(`galaxyView.system`)),1)]),_:1}),(e(),a(m(Re),{key:`${m(f).locale}-system`,"model-value":String(H.value),modal:!1,"onUpdate:modelValue":c[1]||=e=>{H.value=Number(e),J()}},{default:n(()=>[l(m(Be),{id:`select-system`,class:`w-full`},{default:n(()=>[l(m(He),{placeholder:m(b)(`galaxyView.selectSystem`)},null,8,[`placeholder`])]),_:1}),l(m(ze),{position:`popper`},{default:n(()=>[(e(),g(p,null,t(10,e=>l(m(Ve),{key:e,value:String(e)},{default:n(()=>[s(o(m(b)(`galaxyView.system`))+` `+o(e),1)]),_:2},1032,[`value`])),64))]),_:1})]),_:1},8,[`model-value`]))]),An.value?u(``,!0):(e(),g(`div`,{key:0,class:i([K.value?``:`col-span-2 sm:col-span-1`,`space-y-2`])},[l(m(I),{class:`text-xs sm:text-sm opacity-0`},{default:n(()=>[s(o(m(b)(`galaxyView.myPlanets`)),1)]),_:1}),l(m(N),null,{default:n(()=>[l(m(D),{"as-child":``},{default:n(()=>[l(m(O),{variant:`outline`,class:`w-full`},{default:n(()=>[l(m(ue),{class:`h-4 w-4 mr-2`}),s(` `+o(m(b)(`galaxyView.myPlanets`)),1)]),_:1})]),_:1}),l(m(M),{class:`w-72 p-2`,align:`start`},{default:n(()=>[h(`div`,Je,[h(`div`,Ye,o(m(b)(`galaxyView.selectPlanetToView`)),1),(e(!0),g(p,null,t(On.value,t=>(e(),a(m(O),{key:t.id,onClick:e=>Nn(t),disabled:t.position.galaxy===U.value&&t.position.system===W.value,variant:`ghost`,class:i([`w-full justify-start h-auto py-2 px-2 text-left`,t.position.galaxy===U.value&&t.position.system===W.value&&`bg-blue-100 dark:bg-blue-950/50 border border-blue-400 dark:border-blue-600`]),size:`sm`},{default:n(()=>[h(`div`,Xe,[l(m(ce),{class:`h-4 w-4 flex-shrink-0 mt-0.5`}),h(`div`,Ze,[h(`div`,Qe,[h(`span`,$e,o(t.name),1),t.isMoon?(e(),a(m(k),{key:0,variant:`outline`,class:`text-[10px] px-1 py-0 h-4`},{default:n(()=>[s(o(m(b)(`planet.moon`)),1)]),_:1})):u(``,!0)]),h(`div`,et,` [`+o(t.position.galaxy)+`:`+o(t.position.system)+`:`+o(t.position.position)+`] `,1)])])]),_:2},1032,[`onClick`,`disabled`,`class`]))),128))])]),_:1})]),_:1})],2)),K.value?(e(),g(`div`,{key:1,class:i([An.value?`col-span-2 sm:col-span-2`:``,`space-y-2`])},[l(m(I),{class:`text-xs sm:text-sm opacity-0`},{default:n(()=>[s(o(m(b)(`galaxyView.npcPlanets`)),1)]),_:1}),l(m(N),null,{default:n(()=>[l(m(D),{"as-child":``},{default:n(()=>[l(m(O),{variant:`outline`,class:`w-full border-yellow-400 dark:border-yellow-600`},{default:n(()=>[l(m(ce),{class:`h-4 w-4 mr-2`}),s(` `+o(K.value.name)+` (`+o(K.value.planets.length)+`) `,1)]),_:1})]),_:1}),l(m(M),{class:`w-72 p-2`,align:`start`},{default:n(()=>[h(`div`,tt,[h(`div`,nt,o(m(b)(`galaxyView.selectPlanetToView`)),1),(e(!0),g(p,null,t(K.value.planets,t=>(e(),a(m(O),{key:t.id,onClick:e=>Nn(t),disabled:t.position.galaxy===U.value&&t.position.system===W.value,variant:`ghost`,class:i([`w-full justify-start h-auto py-2 px-2 text-left`,t.position.galaxy===U.value&&t.position.system===W.value&&`bg-yellow-100 dark:bg-yellow-950/50 border border-yellow-400 dark:border-yellow-600`]),size:`sm`},{default:n(()=>[h(`div`,rt,[l(m(ce),{class:`h-4 w-4 flex-shrink-0 mt-0.5`}),h(`div`,it,[h(`div`,at,o(t.name),1),h(`div`,ot,` [`+o(t.position.galaxy)+`:`+o(t.position.system)+`:`+o(t.position.position)+`] `,1)])])]),_:2},1032,[`onClick`,`disabled`,`class`]))),128))])]),_:1})]),_:1})],2)):u(``,!0)],2)]),_:1})]),_:1}),l(m(Pe),null,{default:n(()=>[l(m(je),null,{default:n(()=>[l(m(Ae),null,{default:n(()=>[s(o(m(b)(`galaxyView.galaxy`))+` `+o(U.value)+`:`+o(W.value),1)]),_:1}),l(m(me),null,{default:n(()=>[s(o(m(b)(`galaxyView.totalPositions`)),1)]),_:1})]),_:1}),l(m(Fe),null,{default:n(()=>[h(`div`,st,[(e(!0),g(p,null,t(En.value,t=>(e(),g(`div`,{key:t.position,class:i([`flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 p-2 sm:p-3 border rounded-lg hover:bg-muted/50 transition-colors`,{"bg-muted/30":!t.planet,"bg-blue-50 dark:bg-blue-950 border-blue-300 dark:border-blue-700":t.planet&&Y(t.planet),"bg-yellow-50 dark:bg-yellow-950/30 border-yellow-400 dark:border-yellow-600 ring-2 ring-yellow-400 dark:ring-yellow-500":t.planet&&X(t.planet)&&!Y(t.planet),"bg-green-50 dark:bg-green-950/30 border-green-300 dark:border-green-700":t.planet&&!Y(t.planet)&&!X(t.planet)&&Z(t.planet)?.status===m(w).Friendly,"bg-red-50 dark:bg-red-950/30 border-red-300 dark:border-red-700":t.planet&&!Y(t.planet)&&!X(t.planet)&&Z(t.planet)?.status===m(w).Hostile,"bg-gray-50 dark:bg-gray-950/30 border-gray-300 dark:border-gray-700":t.planet&&!Y(t.planet)&&!X(t.planet)&&Pn(t.planet)&&(!Z(t.planet)||Z(t.planet)?.status===m(w).Neutral)}])},[h(`div`,ct,[h(`div`,lt,[h(`div`,ut,[l(m(k),{variant:`outline`,class:`text-xs`},{default:n(()=>[s(o(t.position),1)]),_:2},1024)]),h(`div`,dt,[t.planet?(e(),g(`div`,ft,[h(`div`,pt,[h(`h3`,mt,o(t.planet.name),1),h(`span`,ht,` [`+o(t.planet.position.galaxy)+`:`+o(t.planet.position.system)+`:`+o(t.planet.position.position)+`] `,1),Y(t.planet)?(e(),a(m(k),{key:0,variant:`default`,class:`text-xs flex-shrink-0`},{default:n(()=>[s(o(m(b)(`galaxyView.mine`)),1)]),_:1})):(e(),a(m(k),{key:1,variant:Fn(t.planet),class:`text-xs flex-shrink-0`},{default:n(()=>[s(o(In(t.planet)),1)]),_:2},1032,[`variant`])),q(U.value,W.value,t.position)?(e(),a(m(N),{key:2},{default:n(()=>[l(m(D),{"as-child":``},{default:n(()=>[l(m(k),{variant:`outline`,class:`text-xs cursor-pointer hover:bg-amber-50 dark:hover:bg-amber-950/30 border-amber-300 dark:border-amber-700 text-amber-700 dark:text-amber-400 gap-1`},{default:n(()=>[l(m(S),{class:`h-3 w-3`})]),_:1})]),_:1}),l(m(M),{class:`w-auto p-3`,side:`top`,align:`start`},{default:n(()=>[h(`div`,gt,[h(`p`,_t,o(m(b)(`galaxyView.debrisField`)),1),h(`div`,vt,[h(`div`,yt,[l(A,{type:`metal`,size:`sm`}),h(`span`,bt,o(m(b)(`resources.metal`))+`:`,1),h(`span`,xt,o(m(F)(q(U.value,W.value,t.position).resources.metal)),1)]),h(`div`,St,[l(A,{type:`crystal`,size:`sm`}),h(`span`,Ct,o(m(b)(`resources.crystal`))+`:`,1),h(`span`,wt,o(m(F)(q(U.value,W.value,t.position).resources.crystal)),1)])])])]),_:2},1024)]),_:2},1024)):u(``,!0)]),!Y(t.planet)&&Q(t.planet)!==null?(e(),g(`div`,Tt,[h(`span`,Et,o(m(b)(`diplomacy.reputation`))+`:`,1),h(`span`,{class:i([`ml-1 font-semibold`,Ln(Q(t.planet))])},o(Q(t.planet)>0?`+`:``)+o(Q(t.planet)),3)])):u(``,!0)])):(e(),g(`div`,Dt,[h(`div`,Ot,o(m(b)(`galaxyView.emptySlot`)),1),q(U.value,W.value,t.position)?(e(),a(m(N),{key:0},{default:n(()=>[l(m(D),{"as-child":``},{default:n(()=>[l(m(k),{variant:`outline`,class:`text-xs cursor-pointer hover:bg-amber-50 dark:hover:bg-amber-950/30 border-amber-300 dark:border-amber-700 text-amber-700 dark:text-amber-400 gap-1 inline-flex`},{default:n(()=>[l(m(S),{class:`h-3 w-3`}),h(`span`,null,o(m(b)(`galaxyView.debris`)),1)]),_:1})]),_:1}),l(m(M),{class:`w-auto p-3`,side:`top`,align:`start`},{default:n(()=>[h(`div`,kt,[h(`p`,At,o(m(b)(`galaxyView.debrisField`)),1),h(`div`,jt,[h(`div`,Mt,[l(A,{type:`metal`,size:`sm`}),h(`span`,Nt,o(m(b)(`resources.metal`))+`:`,1),h(`span`,Pt,o(m(F)(q(U.value,W.value,t.position).resources.metal)),1)]),h(`div`,Ft,[l(A,{type:`crystal`,size:`sm`}),h(`span`,It,o(m(b)(`resources.crystal`))+`:`,1),h(`span`,Lt,o(m(F)(q(U.value,W.value,t.position).resources.crystal)),1)])])])]),_:2},1024)]),_:2},1024)):u(``,!0)]))])]),h(`div`,Rt,[l(m(pe),{"delay-duration":300},{default:n(()=>[t.planet&&!Y(t.planet)?(e(),a(m(T),{key:0},{default:n(()=>[l(m(j),{"as-child":``},{default:n(()=>[l(m(O),{onClick:e=>$(t.planet,`spy`),variant:`outline`,size:`sm`,class:`h-8 w-8 p-0`},{default:n(()=>[l(m(se),{class:`h-3 w-3`})]),_:1},8,[`onClick`])]),_:2},1024),l(m(L),null,{default:n(()=>[h(`p`,null,o(m(b)(`galaxyView.scout`)),1)]),_:1})]),_:2},1024)):u(``,!0),t.planet&&!Y(t.planet)?(e(),a(m(T),{key:1},{default:n(()=>[l(m(j),{"as-child":``},{default:n(()=>[l(m(O),{onClick:e=>$(t.planet,`attack`),variant:`outline`,size:`sm`,class:`h-8 w-8 p-0`},{default:n(()=>[l(m(de),{class:`h-3 w-3`})]),_:1},8,[`onClick`])]),_:2},1024),l(m(L),null,{default:n(()=>[h(`p`,null,o(m(b)(`galaxyView.attack`)),1)]),_:1})]),_:2},1024)):u(``,!0),t.planet&&!Y(t.planet)&&kn.value?(e(),a(m(T),{key:2},{default:n(()=>[l(m(j),{"as-child":``},{default:n(()=>[l(m(O),{onClick:e=>Bn(t.planet),variant:`outline`,size:`sm`,class:`h-8 w-8 p-0`},{default:n(()=>[l(m(oe),{class:`h-3 w-3`})]),_:1},8,[`onClick`])]),_:2},1024),l(m(L),null,{default:n(()=>[h(`p`,null,o(m(b)(`galaxyView.missileAttack`)),1)]),_:1})]),_:2},1024)):u(``,!0),t.planet&&!Y(t.planet)&&Pn(t.planet)?(e(),a(m(T),{key:3},{default:n(()=>[l(m(j),{"as-child":``},{default:n(()=>[l(m(O),{onClick:e=>$(t.planet,`gift`),variant:`outline`,size:`sm`,class:`h-8 w-8 p-0`},{default:n(()=>[l(m(le),{class:`h-3 w-3`})]),_:1},8,[`onClick`])]),_:2},1024),l(m(L),null,{default:n(()=>[h(`p`,null,o(m(b)(`galaxyView.sendGift`)),1)]),_:1})]),_:2},1024)):u(``,!0),t.planet?u(``,!0):(e(),a(m(T),{key:4},{default:n(()=>[l(m(j),{"as-child":``},{default:n(()=>[l(m(O),{onClick:e=>$(null,`colonize`,t.position),variant:`outline`,size:`sm`,class:`h-8 w-8 p-0`},{default:n(()=>[l(m(fe),{class:`h-3 w-3`})]),_:1},8,[`onClick`])]),_:2},1024),l(m(L),null,{default:n(()=>[h(`p`,null,o(m(b)(`galaxyView.colonize`)),1)]),_:1})]),_:2},1024)),t.planet&&Y(t.planet)?(e(),a(m(T),{key:5},{default:n(()=>[l(m(j),{"as-child":``},{default:n(()=>[l(m(O),{onClick:e=>Rn(t.planet.id),variant:`outline`,size:`sm`,class:`h-8 w-8 p-0`},{default:n(()=>[l(m(ue),{class:`h-3 w-3`})]),_:1},8,[`onClick`])]),_:2},1024),l(m(L),null,{default:n(()=>[h(`p`,null,o(m(b)(`galaxyView.switch`)),1)]),_:1})]),_:2},1024)):u(``,!0),q(U.value,W.value,t.position)?(e(),a(m(T),{key:6},{default:n(()=>[l(m(j),{"as-child":``},{default:n(()=>[l(m(O),{onClick:e=>$(t.planet,`recycle`,t.position),variant:`outline`,size:`sm`,class:`h-8 w-8 p-0`},{default:n(()=>[l(m(S),{class:`h-3 w-3`})]),_:1},8,[`onClick`])]),_:2},1024),l(m(L),null,{default:n(()=>[h(`p`,null,o(m(b)(`galaxyView.recycle`)),1)]),_:1})]),_:2},1024)):u(``,!0)]),_:2},1024)])]),h(`div`,zt,[h(`div`,Bt,[l(m(k),{variant:`outline`,class:`text-sm`},{default:n(()=>[s(o(t.position),1)]),_:2},1024)]),h(`div`,Vt,[t.planet?(e(),g(`div`,Ht,[h(`div`,Ut,[h(`h3`,Wt,o(t.planet.name),1),Y(t.planet)?(e(),a(m(k),{key:0,variant:`default`,class:`text-xs`},{default:n(()=>[s(o(m(b)(`galaxyView.mine`)),1)]),_:1})):(e(),a(m(k),{key:1,variant:Fn(t.planet),class:`text-xs`},{default:n(()=>[s(o(In(t.planet)),1)]),_:2},1032,[`variant`])),q(U.value,W.value,t.position)?(e(),a(m(N),{key:2},{default:n(()=>[l(m(D),{"as-child":``},{default:n(()=>[l(m(k),{variant:`outline`,class:`text-xs cursor-pointer hover:bg-amber-50 dark:hover:bg-amber-950/30 border-amber-300 dark:border-amber-700 text-amber-700 dark:text-amber-400 gap-1`},{default:n(()=>[l(m(S),{class:`h-3 w-3`}),h(`span`,null,o(m(b)(`galaxyView.debris`)),1)]),_:1})]),_:1}),l(m(M),{class:`w-auto p-3`,side:`top`,align:`start`},{default:n(()=>[h(`div`,Gt,[h(`p`,Kt,o(m(b)(`galaxyView.debrisField`)),1),h(`div`,qt,[h(`div`,Jt,[l(A,{type:`metal`,size:`sm`}),h(`span`,Yt,o(m(b)(`resources.metal`))+`:`,1),h(`span`,Xt,o(m(F)(q(U.value,W.value,t.position).resources.metal)),1)]),h(`div`,Zt,[l(A,{type:`crystal`,size:`sm`}),h(`span`,Qt,o(m(b)(`resources.crystal`))+`:`,1),h(`span`,$t,o(m(F)(q(U.value,W.value,t.position).resources.crystal)),1)])])])]),_:2},1024)]),_:2},1024)):u(``,!0)]),h(`p`,en,` [`+o(t.planet.position.galaxy)+`:`+o(t.planet.position.system)+`:`+o(t.planet.position.position)+`] `,1),!Y(t.planet)&&Q(t.planet)!==null?(e(),g(`div`,tn,[h(`span`,nn,o(m(b)(`diplomacy.reputation`))+`:`,1),h(`span`,{class:i([`ml-1 font-semibold`,Ln(Q(t.planet))])},o(Q(t.planet)>0?`+`:``)+o(Q(t.planet)),3)])):u(``,!0)])):(e(),g(`div`,rn,[h(`div`,an,o(m(b)(`galaxyView.emptySlot`)),1),q(U.value,W.value,t.position)?(e(),a(m(N),{key:0},{default:n(()=>[l(m(D),{"as-child":``},{default:n(()=>[l(m(k),{variant:`outline`,class:`text-xs cursor-pointer hover:bg-amber-50 dark:hover:bg-amber-950/30 border-amber-300 dark:border-amber-700 text-amber-700 dark:text-amber-400 gap-1 inline-flex`},{default:n(()=>[l(m(S),{class:`h-3 w-3`}),h(`span`,null,o(m(b)(`galaxyView.debris`)),1)]),_:1})]),_:1}),l(m(M),{class:`w-auto p-3`,side:`top`,align:`start`},{default:n(()=>[h(`div`,on,[h(`p`,sn,o(m(b)(`galaxyView.debrisField`)),1),h(`div`,cn,[h(`div`,ln,[l(A,{type:`metal`,size:`sm`}),h(`span`,un,o(m(b)(`resources.metal`))+`:`,1),h(`span`,dn,o(m(F)(q(U.value,W.value,t.position).resources.metal)),1)]),h(`div`,fn,[l(A,{type:`crystal`,size:`sm`}),h(`span`,pn,o(m(b)(`resources.crystal`))+`:`,1),h(`span`,mn,o(m(F)(q(U.value,W.value,t.position).resources.crystal)),1)])])])]),_:2},1024)]),_:2},1024)):u(``,!0)]))])]),h(`div`,hn,[l(m(pe),{"delay-duration":300},{default:n(()=>[t.planet&&!Y(t.planet)?(e(),a(m(T),{key:0},{default:n(()=>[l(m(j),{"as-child":``},{default:n(()=>[l(m(O),{onClick:e=>$(t.planet,`spy`),variant:`outline`,size:`sm`,class:`h-8 w-8 p-0`},{default:n(()=>[l(m(se),{class:`h-3 w-3 sm:h-4 sm:w-4`})]),_:1},8,[`onClick`])]),_:2},1024),l(m(L),null,{default:n(()=>[h(`p`,null,o(m(b)(`galaxyView.scout`)),1)]),_:1})]),_:2},1024)):u(``,!0),t.planet&&!Y(t.planet)?(e(),a(m(T),{key:1},{default:n(()=>[l(m(j),{"as-child":``},{default:n(()=>[l(m(O),{onClick:e=>$(t.planet,`attack`),variant:`outline`,size:`sm`,class:`h-8 w-8 p-0`},{default:n(()=>[l(m(de),{class:`h-3 w-3 sm:h-4 sm:w-4`})]),_:1},8,[`onClick`])]),_:2},1024),l(m(L),null,{default:n(()=>[h(`p`,null,o(m(b)(`galaxyView.attack`)),1)]),_:1})]),_:2},1024)):u(``,!0),t.planet&&!Y(t.planet)&&kn.value?(e(),a(m(T),{key:2},{default:n(()=>[l(m(j),{"as-child":``},{default:n(()=>[l(m(O),{onClick:e=>Bn(t.planet),variant:`outline`,size:`sm`,class:`h-8 w-8 p-0`},{default:n(()=>[l(m(oe),{class:`h-3 w-3 sm:h-4 sm:w-4`})]),_:1},8,[`onClick`])]),_:2},1024),l(m(L),null,{default:n(()=>[h(`p`,null,o(m(b)(`galaxyView.missileAttack`)),1)]),_:1})]),_:2},1024)):u(``,!0),t.planet&&!Y(t.planet)&&Pn(t.planet)?(e(),a(m(T),{key:3},{default:n(()=>[l(m(j),{"as-child":``},{default:n(()=>[l(m(O),{onClick:e=>$(t.planet,`gift`),variant:`outline`,size:`sm`,class:`h-8 w-8 p-0`},{default:n(()=>[l(m(le),{class:`h-3 w-3 sm:h-4 sm:w-4`})]),_:1},8,[`onClick`])]),_:2},1024),l(m(L),null,{default:n(()=>[h(`p`,null,o(m(b)(`galaxyView.sendGift`)),1)]),_:1})]),_:2},1024)):u(``,!0),t.planet?u(``,!0):(e(),a(m(T),{key:4},{default:n(()=>[l(m(j),{"as-child":``},{default:n(()=>[l(m(O),{onClick:e=>$(null,`colonize`,t.position),variant:`outline`,size:`sm`,class:`h-8 w-8 p-0`},{default:n(()=>[l(m(fe),{class:`h-3 w-3 sm:h-4 sm:w-4`})]),_:1},8,[`onClick`])]),_:2},1024),l(m(L),null,{default:n(()=>[h(`p`,null,o(m(b)(`galaxyView.colonize`)),1)]),_:1})]),_:2},1024)),t.planet&&Y(t.planet)?(e(),a(m(T),{key:5},{default:n(()=>[l(m(j),{"as-child":``},{default:n(()=>[l(m(O),{onClick:e=>Rn(t.planet.id),variant:`outline`,size:`sm`,class:`h-8 w-8 p-0`},{default:n(()=>[l(m(ue),{class:`h-3 w-3 sm:h-4 sm:w-4`})]),_:1},8,[`onClick`])]),_:2},1024),l(m(L),null,{default:n(()=>[h(`p`,null,o(m(b)(`galaxyView.switch`)),1)]),_:1})]),_:2},1024)):u(``,!0),q(U.value,W.value,t.position)?(e(),a(m(T),{key:6},{default:n(()=>[l(m(j),{"as-child":``},{default:n(()=>[l(m(O),{onClick:e=>$(t.planet,`recycle`,t.position),variant:`outline`,size:`sm`,class:`h-8 w-8 p-0`},{default:n(()=>[l(m(S),{class:`h-3 w-3 sm:h-4 sm:w-4`})]),_:1},8,[`onClick`])]),_:2},1024),l(m(L),null,{default:n(()=>[h(`p`,null,o(m(b)(`galaxyView.recycle`)),1)]),_:1})]),_:2},1024)):u(``,!0)]),_:2},1024)])],2))),128))])]),_:1})]),_:1}),l(m(Se),{open:R.value,"onUpdate:open":c[4]||=e=>R.value=e},{default:n(()=>[l(m(Ue),null,{default:n(()=>[l(m(Le),null,{default:n(()=>[l(m(Te),null,{default:n(()=>[s(o(m(b)(`galaxyView.missileAttackTitle`)),1)]),_:1}),z.value?(e(),a(m(_e),{key:0},{default:n(()=>[s(o(m(b)(`galaxyView.missileAttackMessage`).replace(`{coordinates}`,`${z.value.position.galaxy}:${z.value.position.system}:${z.value.position.position}`)),1)]),_:1})):u(``,!0)]),_:1}),m(f).currentPlanet&&z.value?(e(),g(`div`,gn,[h(`div`,_n,[l(m(I),null,{default:n(()=>[s(o(m(b)(`galaxyView.missileCount`)),1)]),_:1}),l(m(De),{modelValue:B.value,"onUpdate:modelValue":c[2]||=e=>B.value=e,modelModifiers:{number:!0},type:`number`,min:`1`,max:m(f).currentPlanet.defense.interplanetaryMissile||0},null,8,[`modelValue`,`max`]),h(`p`,vn,o(m(b)(`galaxyView.availableMissiles`))+`: `+o(m(f).currentPlanet.defense.interplanetaryMissile||0),1)]),h(`div`,yn,[h(`div`,bn,[h(`span`,xn,o(m(b)(`galaxyView.missileRange`))+`:`,1),h(`span`,null,o(Hn())+` `+o(m(b)(`galaxyView.systems`)),1)]),h(`div`,Sn,[h(`span`,Cn,o(m(b)(`galaxyView.distance`))+`:`,1),h(`span`,null,o(Un(z.value))+` `+o(m(b)(`galaxyView.systems`)),1)]),h(`div`,wn,[h(`span`,Tn,o(m(b)(`galaxyView.flightTime`))+`:`,1),h(`span`,null,o(Wn(Un(z.value))),1)])])])):u(``,!0),l(m(Ee),null,{default:n(()=>[l(m(O),{variant:`outline`,onClick:c[3]||=e=>R.value=!1},{default:n(()=>[s(o(m(b)(`galaxyView.cancel`)),1)]),_:1}),l(m(O),{onClick:Vn},{default:n(()=>[s(o(m(b)(`galaxyView.launchMissile`)),1)]),_:1})]),_:1})]),_:1})]),_:1},8,[`open`]),l(m(ye),{open:x.value,"onUpdate:open":c[5]||=e=>x.value=e},{default:n(()=>[l(m(xe),null,{default:n(()=>[l(m(ge),null,{default:n(()=>[l(m(Ne),null,{default:n(()=>[s(o(C.value),1)]),_:1}),l(m(be),{class:`whitespace-pre-line`},{default:n(()=>[s(o(E.value),1)]),_:1})]),_:1}),l(m(Me),null,{default:n(()=>[l(m(Ce),null,{default:n(()=>[s(o(m(b)(`common.cancel`)),1)]),_:1}),l(m(ve),{onClick:zn},{default:n(()=>[s(o(m(b)(`common.confirm`)),1)]),_:1})]),_:1})]),_:1})]),_:1},8,[`open`])]))}});export{R as default};